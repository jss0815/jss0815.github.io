---
title: Puppeteer로 생성된 PDF에 비밀번호 보호 추가하기
date: 2023-09-02 20:00:00 +0900
categories:
  - JavaScript
tags:
  - Puppeteer
  - PDF
---

## 문제 정의

개발자들이 웹 페이지를 PDF로 변환할 때 종종 Puppeteer라는 라이브러리를 사용합니다. Puppeteer는 크롬 브라우저를 제어하여 다양한 작업을 수행할 수 있게 해주는 도구입니다. 그러나 이 라이브러리로 생성된 PDF 파일에 비밀번호를 추가하는 기능은 기본적으로 제공되지 않습니다. 이 문제를 어떻게 해결할 수 있을까요?

## 해결 방법 1: `pdf-lib` 라이브러리 사용

먼저, Puppeteer로 PDF를 생성한 후, `pdf-lib` 라이브러리를 사용하여 비밀번호를 설정할 수 있습니다. `pdf-lib`는 PDF 파일을 조작할 수 있는 다양한 기능을 제공합니다.

1. Puppeteer로 PDF 생성
2. 생성된 PDF 파일을 `pdf-lib`로 읽기
3. `pdf-lib`의 `encrypt` 함수를 사용하여 비밀번호 설정
4. 변경된 PDF 파일 저장

이 방법은 두 단계의 처리 과정이 필요하므로 처리 시간이 다소 걸릴 수 있습니다.

## 해결 방법 2: 서버 측 로직을 이용한 비밀번호 설정

또 다른 방법은 서버에서 PDF를 생성하고 비밀번호를 설정하는 것입니다. 이 방법은 주로 백엔드 언어(예: Python, Java 등)를 사용합니다.

1. Puppeteer로 PDF 생성
2. 서버 측 로직에서 PDF 파일을 열고 비밀번호 설정
3. 변경된 PDF 파일 저장

이 방법은 서버 리소스를 좀 더 사용하게 됩니다. 하지만, 처리 속도가 빠를 수 있으며, 보안이 더욱 강화됩니다.

## 고려해야 할 사항

두 방법 모두 비밀번호 암호화(encryption) 기술을 사용합니다. 암호화란, 정보를 특정 코드나 신호로 변환하여 외부의 무단 접근을 차단하는 기술입니다. 이를 통해 생성된 PDF 파일의 보안을 높일 수 있습니다.

## 결론

Puppeteer로 생성된 PDF에 비밀번호를 설정하는 방법은 여러 가지입니다. `pdf-lib` 라이브러리를 사용하거나 서버 측 로직을 이용하는 방법 등, 상황과 필요에 따라 적절한 방법을 선택할 수 있습니다.