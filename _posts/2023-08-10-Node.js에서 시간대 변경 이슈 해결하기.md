---
title: Node.js에서 시간대 변경 이슈 해결하기
date: 2023-08-10 20:00:00 +0900
categories:
  - JavaScript
tags:
  - NodeJS
---

## 문제 상황: 시간대 변경이 즉시 적용되지 않음

많은 Node.js 개발자들이 시스템의 시간대 설정을 변경했을 때, 이 변경이 Node.js 코드에서 즉시 반영되지 않는 문제에 직면하곤 합니다. 이 문제는 특히 글로벌 서비스를 운영할 때 중요한 이슈가 될 수 있습니다. 이 글에서는 이 문제가 왜 발생하는지와 어떻게 해결할 수 있는지에 대해 상세하게 알아보겠습니다.

## 원인: Node.js는 시스템 시간대에 의존하지 않음

Node.js는 일반적으로 실행될 때 시스템의 시간대 설정을 캐시합니다. 즉, 시스템의 시간대를 변경해도 Node.js가 이미 실행 중이라면 이 변경사항은 적용되지 않습니다. 따라서, Node.js 프로세스를 재시작해야만 새로운 시간대 설정이 적용됩니다.

## 해결 방법: `TZ` 환경 변수 사용

시스템 설정 외에도 Node.js에서는 `TZ` 환경 변수를 통해 시간대를 명시적으로 설정할 수 있습니다. 이 환경 변수는 Node.js 프로세스가 시작할 때 읽히므로, 코드 상에서 이 값을 변경하면 즉시 새로운 시간대가 적용됩니다.

예를 들어, 다음과 같이 `process.env.TZ` 값을 변경할 수 있습니다.

```javascript
process.env.TZ = 'Asia/Seoul';
```

## 오류 코드: `Timezone_Not_Updated`

만약 `TZ` 환경 변수 설정이 제대로 적용되지 않는 경우, "Timezone_Not_Updated"라는 오류 메시지를 확인할 수 있습니다. 이 오류는 일반적으로 환경 변수가 제대로 설정되지 않았거나, 시스템에서 지원하지 않는 시간대 값을 사용했을 때 발생합니다.

## 정리: 시간대 설정의 중요성

시간대 설정은 국제적인 서비스를 제공하거나, 다양한 지역에서 사용되는 애플리케이션을 개발할 때 중요한 요소입니다. Node.js에서 시간대 문제를 효과적으로 관리하기 위해서는 `TZ` 환경 변수를 활용하는 것이 좋습니다. 이를 통해 시스템 설정을 건드리지 않고도 시간대를 동적으로 관리할 수 있습니다.